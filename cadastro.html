<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cadastro e Login</title>
    <link rel="stylesheet" href="cadastro.css">
</head>
<body>
    <div class="container">
        <header class="app-header">
            <div class="app-logo">R</div>
        </header>

        <!-- Formulário de Cadastro -->
        <div id="register-container" class="form-container">
            <h1 class="app-title">Criar Conta</h1>
            <p class="app-subtitle">Preencha os dados abaixo para se cadastrar</p>
            
            <form id="registration-form" autocomplete="off">
                <div class="form-group">
                    <label for="fullname">Nome completo</label>
                    <input 
                        type="text" 
                        id="fullname" 
                        name="fullname" 
                        placeholder="Digite seu nome completo" 
                        required 
                        autocapitalize="words"
                    >
                    <div class="error-message" id="fullname-error">Por favor, informe seu nome completo</div>
                </div>

                <div class="form-group">
                    <label for="reg-email">E-mail</label>
                    <input 
                        type="email" 
                        id="reg-email" 
                        name="email" 
                        placeholder="Digite seu e-mail" 
                        required
                        pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                        autocapitalize="off"
                    >
                    <div class="error-message" id="email-error">Por favor, informe um e-mail válido</div>
                    <div class="error-message" id="email-exists-error">Este e-mail já está cadastrado</div>
                </div>

                <div class="form-group">
                    <label for="phone">Telefone</label>
                    <input 
                        type="tel" 
                        id="phone" 
                        name="phone" 
                        placeholder="(00) 00000-0000" 
                        required
                    >
                    <div class="error-message" id="phone-error">Por favor, informe um telefone válido</div>
                </div>

                <div class="form-group">
                    <label for="reg-password">Senha</label>
                    <div class="password-container">
                        <input 
                            type="password" 
                            id="reg-password" 
                            name="password" 
                            placeholder="Crie uma senha" 
                            required
                            minlength="8"
                        >
                        <button type="button" class="toggle-password" onclick="togglePasswordVisibility('reg-password')">Mostrar</button>
                    </div>
                    <div class="error-message" id="password-error">A senha deve ter pelo menos 8 caracteres</div>
                </div>

                <div class="form-group">
                    <label for="confirm-password">Confirmar senha</label>
                    <div class="password-container">
                        <input 
                            type="password" 
                            id="confirm-password" 
                            name="confirm-password" 
                            placeholder="Confirme sua senha" 
                            required
                        >
                        <button type="button" class="toggle-password" onclick="togglePasswordVisibility('confirm-password')">Mostrar</button>
                    </div>
                    <div class="error-message" id="confirm-password-error">As senhas não coincidem</div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="terms" name="terms" required>
                    <label for="terms">Eu li e concordo com os Termos de Uso e Política de Privacidade</label>
                </div>

                <button type="submit" id="register-btn" class="btn">
                    <span class="loading" style="display: none;"></span>
                    <span class="btn-text">Criar conta</span>
                </button>

                <div class="form-footer">
                    Já tem uma conta? <a href="#" id="show-login">Entrar</a>
                </div>

                <p class="terms">
                    Ao se cadastrar, você concorda com nossos <a href="#">Termos de Uso</a> e <a href="#">Política de Privacidade</a>.
                </p>
            </form>
        </div>

        <!-- Formulário de Login -->
        <div id="login-container" class="form-container hidden">
            <h1 class="app-title">Entrar</h1>
            <p class="app-subtitle">Acesse sua conta para continuar</p>
            
            <form id="login-form" autocomplete="off">
                <div class="form-group">
                    <label for="login-email">E-mail</label>
                    <input 
                        type="email" 
                        id="login-email" 
                        name="email" 
                        placeholder="Digite seu e-mail" 
                        required
                        autocapitalize="off"
                    >
                    <div class="error-message" id="login-email-error">Por favor, informe um e-mail válido</div>
                </div>

                <div class="form-group">
                    <label for="login-password">Senha</label>
                    <div class="password-container">
                        <input 
                            type="password" 
                            id="login-password" 
                            name="password" 
                            placeholder="Digite sua senha" 
                            required
                        >
                        <button type="button" class="toggle-password" onclick="togglePasswordVisibility('login-password')">Mostrar</button>
                    </div>
                    <div class="error-message" id="login-password-error">Por favor, informe sua senha</div>
                    <div class="error-message" id="login-invalid-error">E-mail ou senha inválidos</div>
                    <div class="forgot-password">
                        <a href="#">Esqueceu a senha?</a>
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="remember" name="remember">
                    <label for="remember">Lembrar de mim</label>
                </div>

                <button type="submit" id="login-btn" class="btn">
                    <span class="loading" style="display: none;"></span>
                    <span class="btn-text">Entrar</span>
                </button>

                <div class="social-login">
                    <div class="social-login-title">
                        <span>Ou entre com</span>
                    </div>
                    <div class="social-buttons">
                        <div class="social-button">
                            <svg class="social-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
                                <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                                <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
                                <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
                            </svg>
                        </div>
                        <div class="social-button">
                            <svg class="social-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" fill="#1877F2"/>
                            </svg>
                        </div>
                        <div class="social-button">
                            <svg class="social-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" fill="#000"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="form-footer">
                    Não tem uma conta? <a href="#" id="show-register">Cadastre-se</a>
                </div>
            </form>
        </div>
    </div>

    <div id="toast" class="toast"></div>

    <script>
        // Simulação de banco de dados com emails e senhas já cadastrados
        const existingUsers = [
            { email: 'usuario@exemplo.com', password: 'senha123', name: 'Usuário Exemplo' },
            { email: 'teste@gmail.com', password: 'teste123', name: 'Usuário Teste' },
            { email: 'maria@hotmail.com', password: 'maria2024', name: 'Maria Silva' },
            { email: 'joao@outlook.com', password: 'joao1234', name: 'João Santos' },
            { email: 'contato@empresa.com.br', password: 'empresa2024', name: 'Empresa Ltda' }
        ];

        // Função para verificar se o email já existe
        function emailExists(email) {
            return existingUsers.some(user => user.email.toLowerCase() === email.toLowerCase());
        }

        // Função para verificar credenciais de login
        function checkCredentials(email, password) {
            return existingUsers.find(user => 
                user.email.toLowerCase() === email.toLowerCase() && 
                user.password === password
            );
        }

        // Função para mostrar toast de notificação
        function showToast(message, type = 'error') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = 'toast ' + type + ' show';
            
            setTimeout(() => {
                toast.className = toast.className.replace('show', '');
            }, 3000);
        }

        // Função para mostrar/esconder senha
        function togglePasswordVisibility(inputId) {
            const passwordInput = document.getElementById(inputId);
            const toggleButton = passwordInput.nextElementSibling;
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleButton.textContent = 'Ocultar';
            } else {
                passwordInput.type = 'password';
                toggleButton.textContent = 'Mostrar';
            }
        }

        // Função para alternar entre formulários
        function toggleForms() {
            const registerContainer = document.getElementById('register-container');
            const loginContainer = document.getElementById('login-container');
            
            if (registerContainer.classList.contains('hidden')) {
                registerContainer.classList.remove('hidden');
                loginContainer.classList.add('hidden');
            } else {
                registerContainer.classList.add('hidden');
                loginContainer.classList.remove('hidden');
            }
            
            // Limpar formulários e mensagens de erro
            document.getElementById('registration-form').reset();
            document.getElementById('login-form').reset();
            document.querySelectorAll('.error-message').forEach(el => {
                el.classList.remove('visible');
            });
        }

        // Formatação do telefone
        document.getElementById('phone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 0) {
                value = '(' + value;
                if (value.length > 3) {
                    value = value.substring(0, 3) + ') ' + value.substring(3);
                }
                if (value.length > 10) {
                    value = value.substring(0, 10) + '-' + value.substring(10, 14);
                }
            }
            e.target.value = value;
        });

        // Validação de email em tempo real
        document.getElementById('reg-email').addEventListener('blur', function() {
            const emailInput = this;
            const emailExistsError = document.getElementById('email-exists-error');
            
            if (emailInput.value && emailExists(emailInput.value)) {
                emailExistsError.classList.add('visible');
                emailInput.setCustomValidity('Este e-mail já está cadastrado');
            } else {
                emailExistsError.classList.remove('visible');
                emailInput.setCustomValidity('');
            }
        });

        // Validação de confirmação de senha
        document.getElementById('confirm-password').addEventListener('input', function() {
            const password = document.getElementById('reg-password').value;
            const confirmPassword = this.value;
            const confirmPasswordError = document.getElementById('confirm-password-error');
            
            if (password !== confirmPassword) {
                confirmPasswordError.classList.add('visible');
                this.setCustomValidity('As senhas não coincidem');
            } else {
                confirmPasswordError.classList.remove('visible');
                this.setCustomValidity('');
            }
        });

        // Manipulação do envio do formulário de cadastro
        document.getElementById('registration-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            // Limpar mensagens de erro anteriores
            document.querySelectorAll('.error-message').forEach(el => {
                el.classList.remove('visible');
            });
            
            // Obter valores do formulário
            const fullname = document.getElementById('fullname').value;
            const email = document.getElementById('reg-email').value;
            const phone = document.getElementById('phone').value;
            const password = document.getElementById('reg-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            
            // Validar se as senhas coincidem
            if (password !== confirmPassword) {
                document.getElementById('confirm-password-error').classList.add('visible');
                return;
            }
            
            // Verificar se o email já existe
            if (emailExists(email)) {
                document.getElementById('email-exists-error').classList.add('visible');
                showToast('Este e-mail já está cadastrado. Por favor, use outro e-mail ou faça login.');
                return;
            }
            
            // Mostrar indicador de carregamento
            const submitBtn = document.getElementById('register-btn');
            submitBtn.classList.add('loading');
            submitBtn.querySelector('.loading').style.display = 'inline-block';
            
            // Simular uma requisição ao servidor
            setTimeout(() => {
                // Adicionar o usuário à lista de usuários existentes (simulando o cadastro)
                existingUsers.push({
                    email: email.toLowerCase(),
                    password: password,
                    name: fullname
                });
                
                // Esconder indicador de carregamento
                submitBtn.classList.remove('loading');
                submitBtn.querySelector('.loading').style.display = 'none';
                
                // Mostrar mensagem de sucesso
                showToast('Cadastro realizado com sucesso!', 'success');
                
                // Limpar o formulário
                document.getElementById('registration-form').reset();
                
                // Redirecionar para a página de login (simulação)
                setTimeout(() => {
                    toggleForms();
                }, 1500);
            }, 1500);
        });

        // Manipulação do envio do formulário de login
        document.getElementById('login-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            // Limpar mensagens de erro anteriores
            document.querySelectorAll('.error-message').forEach(el => {
                el.classList.remove('visible');
            });
            
            // Obter valores do formulário
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // Mostrar indicador de carregamento
            const submitBtn = document.getElementById('login-btn');
            submitBtn.classList.add('loading');
            submitBtn.querySelector('.loading').style.display = 'inline-block';
            
            // Simular uma requisição ao servidor
            setTimeout(() => {
                // Verificar credenciais
                const user = checkCredentials(email, password);
                
                // Esconder indicador de carregamento
                submitBtn.classList.remove('loading');
                submitBtn.querySelector('.loading').style.display = 'none';
                
                if (user) {
                    // Login bem-sucedido
                    showToast(`Bem-vindo(a), ${user.name}!`, 'success');
                    
                    // Limpar o formulário
                    document.getElementById('login-form').reset();
                    
                    // Redirecionar para o dashboard (simulação)
                    setTimeout(() => {
                        // Em um app real, você redirecionaria para o dashboard
                        // window.location.href = '/dashboard';
                        console.log('Redirecionando para o dashboard...');
                    }, 1500);
                } else {
                    // Login falhou
                    document.getElementById('login-invalid-error').classList.add('visible');
                    showToast('E-mail ou senha inválidos. Por favor, tente novamente.');
                }
            }, 1500);
        });

        // Adicionar eventos para alternar entre formulários
        document.getElementById('show-login').addEventListener('click', function(e) {
            e.preventDefault();
            toggleForms();
        });
        
        document.getElementById('show-register').addEventListener('click', function(e) {
            e.preventDefault();
            toggleForms();
        });
    </script>
</body>
</html>